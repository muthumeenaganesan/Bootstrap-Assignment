td_site.page.pricing=(function(){var i=getPackageForName("com.forddirect.ng.util");var m=YAHOO.util.Cookie;var e="price";var h="plan";var f="AXZ_MESSAGE_SHOWN";var r="model.planApplicability";var n="model.trims";var o="";var p="/pricing/VehiclePrices.json";var d=[];var j,k,a,q;if(typeof AXZAuthenticator!=="undefined"){j=new AXZAuthenticator();k=j.getPlanType();a=j.getPlanTypeForDisplay();}else{j={};k="MSRP";a="MSRP";}var c=false;var b=function(x,w,s,u,t){var v=parseInt(x.replace("pricingutils-",""),10);d[v]={id:x,key:s,prices:w,calcFn:u,applicability:t};};var l=function(s){return parseInt(s.replace(",",""),10);};var g=function(){var t,x;for(t in d){if(d.hasOwnProperty(t)){var v=d[t];var z;var s=v.prices;var y=l(v.prices.msrp);var u=y;if(v.applicability!==""&&v.applicability!==undefined){if(k===j.AZ_PLAN&&v.prices.az&&v.applicability.az){u=l(v.prices.az);}else{if(k===j.FNX_PLAN&&v.prices.x&&v.applicability.fnx){u=l(v.prices.x);}else{if(k===j.PRX_PLAN&&v.prices.x&&v.applicability.prx){u=l(v.prices.x);}else{if(k===j.SPX_PLAN&&v.prices.x&&v.applicability.spx){u=l(v.prices.x);}}}}}else{if(k===j.AZ_PLAN&&v.prices.az){u=l(v.prices.az);}else{if((k===j.FNX_PLAN||k===j.PRX_PLAN||k===j.SPX_PLAN)&&v.prices.x){u=l(v.prices.x);}}}switch(v.key){case h:z=(u===y&&typeof j.MSRP!=="undefined")?j.MSRP:a;break;case e:if(v.calcFn){u=v.calcFn(u);}z=i.formatWithComma(u);break;}if(document.getElementById(v.id)!==null){if(z&&z!=="0"){document.getElementById(v.id).innerHTML=z;var w=jQuery("#"+v.id).closest(".card-info");if(w.length&&(z.toLowerCase()==="x plan"||z.toLowerCase()==="msrp")){w.addClass("msrp-xplan");}}else{document.getElementById(v.id).innerHTML="n/a";}}}}};if(typeof j!=="undefined"&&k!==j.MSRP){_instances.bsLoader.initCompleteEvent.subscribe(g);}return{PRICE:e,PLAN:h,planTypes:{AZ:"AZ",X:"X",MSRP:"MSRP"},getAuthenticator:function(){return j;},init:function(s){o=s;},registerPrice:function(v,u,t,s){b(v,u,e,t,s);},registerAllPrices:function(v){var s,u;for(s=0,u=v.length;s<u;s++){var t=v[s];this.registerPrice(t.id,{msrp:t.msrp,az:t.az,x:t.x},undefined,t.applicability);}},registerPlan:function(v,u,t,s){b(v,u,h,undefined,s);},registerAllPlans:function(v){var s,u;for(s=0,u=v.length;s<u;s++){var t=v[s];this.registerPlan(t.id,{msrp:t.msrp,az:t.az,x:t.x},undefined,t.applicability);}},getPlanType:function(t){var u=this.planTypes.MSRP;if(document.URL.match("mysaveditems")===null){q={};var s=setInterval(function(){if(typeof _widgets.context.SelectedContext!=="undefined"||typeof t!=="undefined"){clearInterval(s);q=_widgets.context.SelectedContext.get(r)||t;}},200);if(k===j.AZ_PLAN&&q.aZ){u=this.planTypes.AZ;}else{if(k===j.FNX_PLAN&&q.fNX){u=this.planTypes.X;}else{if(k===j.PRX_PLAN&&q.pRX){u=this.planTypes.X;}else{if(k===j.SPX_PLAN&&q.sPX){u=this.planTypes.X;}}}}}return u;},getPlanTypeDisplay:function(t,u){if(!t||!u){return a;}if(t<u){return"MSRP";}var s=this.getPlanType();if(s===td_site.pricing.planTypes.AZ){return"A/Z Plan";}if(s===td_site.pricing.planTypes.X){return"X Plan";}return"MSRP";},getFullPlanType:function(s){var t=this.planTypes.MSRP;if(document.URL.match("mysaveditems")===null){q=s;if(k===j.AZ_PLAN&&q.aZ){t=k;}else{if(k===j.FNX_PLAN&&q.fNX){t=k;}else{if(k===j.PRX_PLAN&&q.pRX){t=k;}else{if(k===j.SPX_PLAN&&q.sPX){t=k;}}}}}return t;},getTrimPlanType:function(u){if(typeof u==="undefined"){u=_widgets.context.SelectedContext.get("currentTrim");}if(u){var t=this.planTypes.MSRP;var s=_widgets.context.SelectedContext.get(n);var v=_widgets.context.PricingContext._configs.trimsPricingData.value[u].pricing.planApplicability;if(k===j.AZ_PLAN&&v.aZ){t=this.planTypes.AZ;}else{if(k===j.FNX_PLAN&&v.fNX){t=this.planTypes.X;}else{if(k===j.PRX_PLAN&&v.pRX){t=this.planTypes.X;}else{if(k===j.SPX_PLAN&&v.sPX){t=this.planTypes.X;}}}}return t;}},getTrimPlanTypeDisplay:function(u,v,t){if(!u||!v){return a;}if(u<v){return"MSRP";}var s=this.getTrimPlanType(t);if(s===td_site.pricing.planTypes.AZ){return"A/Z Plan";}if(s===td_site.pricing.planTypes.X){return"X Plan";}return"MSRP";},getPlanTypeForServices:function(){return k;},getSupplierCode:function(){if(this.getPlanType()===this.planTypes.X){return ngbs.u.cookie.get("AXZAuthCookie").split(":")[2];}return null;},messageHeaderCookiePresent:function(){return m.get(f);},shouldShowMessage:function(){if((k!==j.MSRP)){if(!this.messageHeaderCookiePresent()){return true;}}return false;},setMessageShown:function(){m.set(f,"true");},replaceFields:function(){g();},getRegistrationTokens:function(){return d;},inish:td_site.inish};}());
td_site.inish("td_site",td_site,0);function initNGBSGlobalNav(){ngbs.widget("globalnav-header",function(o,l){var a=jQuery,i=a("#global-nav"),k=a("body"),f=a(window),s=navigator.userAgent.toLowerCase(),j=navigator.appName==="Microsoft Internet Explorer",e=s.indexOf("ipad")>0?true:false,p=false,h=false,g=false,d=false,c="boxShadowGNAV";if(s.indexOf("android")>-1){k.addClass("android");}if(s.indexOf("android")>-1&&s.indexOf("4.0.4")>-1){p=true;}if(s.indexOf("trident")>-1&&s.indexOf("rv:11")>-1){j=true;}if(j){k.addClass("ie");if(navigator.appVersion.indexOf("MSIE 10")>-1){k.addClass("ie10");d=true;}if(navigator.appVersion.indexOf("MSIE 9")>-1){k.addClass("ie9 oldie");g=true;}if(navigator.appVersion.indexOf("MSIE 8")>-1){k.addClass("ie8 oldie");h=true;}}if(s.indexOf("ipad")>-1&&s.indexOf("os 8_1")>-1&&s.indexOf("version/8.0")>-1){k.addClass("iPad_iOS8_1_v8");}if(e){i.addClass("ipad");k.addClass("isIpad");}if(h){c="boxShadowGNAVie8";}if(p){a("#global-nav .vehicle.list-6.last").addClass("android-4-0-x");a("#global-nav .bottom .information .accordion .nameplate .wrapper").addClass("android-4-0-x");}var m=a("#page.view-models-and-options-trim-details #header");if(!e&&!p&&(m.length>0)){m.addClass("notTablet");}if(h&&(a(".cpoContent").length>0||a(".fls-site").length>0)){var b="",q=a("#spriteGNAV");if(q.length>0){b=q.data("url");a("head").append('<link rel="stylesheet" type="text/css" href="'+b+'"/>');}}function r(){this.opened=false;this.topLinks=i.find(".top-links");this.segments=i.find(".segments");this.currentSegment=null;this.currentVehicle=null;this.addTopLinksHref();this.bindings();}r.prototype.addTopLinksHref=function(){var t;this.topLinks.find("a").each(function(){t=a(this);t.attr("href",t.data("href"));t.removeAttr("data-href");});};r.prototype.bindings=function(){var t=this;i.on("click",".top-links a",function(u){u.preventDefault();u.stopPropagation();if(a(this).parents(".follow").length){window.location.assign(this.href);}else{i.find(".bottom").removeAttr("class").addClass("bottom section-"+a(this).data("segment"));t.showSegment(a(this).data("segment"));o.send(a("#disclaimer-flip"),"close");}});i.on("click",".button",function(u){if(a(this).data("vehicle").indexOf("addOn")>-1){return;}u.preventDefault();if(a(this).hasClass("selected")){return;}});i.on("click",".get-updates-link, .payment-estimator-link",function(u){t.hideAll();});i.on("click","#global-nav .globalDisclaimerLink",function(v){v.stopPropagation();v.preventDefault();t.hideAll();var u=parseInt(jQuery(this).html(),10);o.send(document.body,"open-flips",{number:u});});i.on("click",".pricing-plan",function(v){var u=jQuery(this);v.preventDefault();v.stopPropagation();t.showDisclaimer(u.find(".globalDisclaimerLink"));});i.on("click",".segment.search",function(u){if(a(u.target).hasClass("search-button")){a(".search-button").find("input").trigger("click");}});jQuery(".glo-button.glo-activate-disclosures").on("click",function(){t.hideAll();});};r.prototype.showDisclaimer=function(t){this.hideAll();var u=parseInt(t.html(),10);o.send(document.body,"open-flips",{number:u});};r.prototype.deselectTopLinks=function(){this.topLinks.find("a.selected").removeClass("selected");};r.prototype.hideAllSegments=function(){this.segments.find(".segment").addClass("hidden");};r.prototype.getSegment=function(t){return this.segments.find("."+t);};r.prototype.getTopLinkForSegment=function(t){return this.topLinks.find("."+t);};r.prototype.showSegment=function(x){if(!x){return;}var u=this,w=this.getSegment(x),t=this.getTopLinkForSegment(x),v=t.hasClass("selected"),y=false;this.hideAll();if(jQuery(".glo-overlay-close div").length>0){jQuery(".glo-disclosures .glo-overlay").removeClass("glo-overlay-shown");}if(!v){a(".spc-s-close").trigger("click");k.on("click.globalNav",function(){u.hideAll();});k.on("touchmove.globalNav",function(){y=true;});k.on("touchend.globalNav",function(){if(!y){u.hideAll();}y=false;});k.on("click.globalNav",".preventNavHide",function(z){z.stopPropagation();});k.on("touchend.globalNav",".preventNavHide",function(z){z.stopPropagation();});this.currentSegment=x;t.addClass("selected");this.loadVehicleImagesForSegment(w);w.removeClass("hidden");i.find("."+c).removeClass(c);if(x==="shoppingTools"||x==="owners"||x==="findADealer"||x==="search"){i.find(".segment."+x).addClass(c);}else{a("#global-nav .bottom.section-"+x).addClass(c);}w.find("input").focus();}};r.prototype.hideAll=function(){this.deselectTopLinks();this.hideAllSegments();this.deselectVehicle();this.currentSegment=null;k.off("click.globalNav");k.off("touchend.globalNav");i.find("."+c).removeClass(c);};r.prototype.selectVehicle=function(t){this.segments.find(".vehicle ."+t+" .border-top").addClass("selected");this.currentVehicle=t;};r.prototype.deselectVehicle=function(){this.segments.find(".vehicle .border-top").removeClass("selected");this.currentVehicle=null;};r.prototype.showVehicle=function(u){var w,t,v;if(!u){return;}w=u.indexOf("addOn:")===0;if(w){u=u.substr("addOn:".length);t=u;}this.deselectVehicle();this.selectVehicle(u);td_site.pricing.replaceFields();};r.prototype.loadVehicleImagesForSegment=function(t){t.find(".vehicle img").each(function(v,w){var u=a(w);if(!u.attr("src")){u.attr("src",u.data("src"));}});t.find(".addOn img").each(function(v,w){var u=a(w);if(!u.attr("src")){u.attr("src",u.data("src"));}});};var n=new r();});}jQuery(document).ready(function(){var a=null;var b=window.setInterval(function(){a=jQuery("#global-nav");if(a.length){window.clearInterval(b);initNGBSGlobalNav();if(jQuery("#mustang-view").length>0){var c=getPackageForName("com.forddirect.ng.widgets"),e=document.getElementById("gnav-search-endeca");if(e){var d=new c.SiteSearchInput(e,{autocomplete:true,searchType:"search"});}}}},100);if(ngbs.u.cookie.get("AXZAuthCookie")){jQuery(".fnplabel").show();}});jQuery(window).load(function(){if(typeof _instances.bsLoader!=="undefined"&&!_instances.bsLoader.initializationComplete){_instances.bsLoader.init();}});(function(){_instances.bsLoader.initCompleteEvent.subscribe(function(){var a=getPackageForName("com.forddirect.ng.widgets"),c=document.getElementById("gnav-search-endeca");if(c){var b=new a.SiteSearchInput(c,{autocomplete:true,searchType:"search"});}});}());
